<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Workflow Web</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./styles.css" />
    <link rel="stylesheet" href="./overrides.css" />
  </head>
  <body>
    <div class="app">
      <aside class="sidebar">
        <div class="sidebar__brand">
          <button id="sidebar-toggle" class="icon-button" aria-label="Toggle sidebar">☰</button>
          <div class="brand__logo">W</div>
          <div>
            <div class="brand__title">Workflow</div>
            <div class="brand__subtitle">Tracker</div>
          </div>
        </div>
        <nav class="sidebar__nav">
          <button class="nav-item nav-item--active" data-page="dashboard">Onboarding Dashboard</button>
          <button id="weekly-tracker" class="nav-item" data-page="weekly">Weekly Tracker</button>
          <button id="todo-tracker" class="nav-item" data-page="todo">To Do List</button>
          <button class="nav-item" data-page="removed">Removed Candidates</button>
          <button class="nav-item" data-page="exports">Exports</button>
          <button class="nav-item" data-page="archives">Archives</button>
        </nav>

        <div class="sidebar__mini" aria-hidden="true">
          <button class="nav-item nav-item--mini" data-page="dashboard" title="Onboarding Dashboard" tabindex="-1">DB</button>
          <button id="weekly-tracker-mini" class="nav-item nav-item--mini" data-page="weekly" title="Weekly Tracker" tabindex="-1">WK</button>
          <button id="todo-tracker-mini" class="nav-item nav-item--mini" data-page="todo" title="To Do List" tabindex="-1">TD</button>
          <button class="nav-item nav-item--mini" data-page="removed" title="Removed Candidates" tabindex="-1">RM</button>
          <button class="nav-item nav-item--mini" data-page="exports" title="Exports" tabindex="-1">EX</button>
          <button class="nav-item nav-item--mini" data-page="archives" title="Archives" tabindex="-1">AR</button>
          <button class="nav-item nav-item--mini" data-page="settings" title="Settings" tabindex="-1">ST</button>
        </div>
        <div class="sidebar__spacer"></div>
        <div class="sidebar__footer">
          <button id="settings-button" class="nav-item" data-page="settings">Settings</button>
        </div>
      </aside>

      <main class="main">
        <section id="page-dashboard" class="page page--active">
          <header class="topbar">
            <div>
              <div class="topbar__title">Onboarding Dashboard</div>
              <div class="topbar__subtitle">Keep the team moving with live status cards.</div>
            </div>
            <div class="topbar__actions">
              <div class="search">
                <span class="search__icon">⌕</span>
                <input id="search-input" type="text" placeholder="Search" />
              </div>
              <select id="branch-filter" class="select">
                <option value="">All branches</option>
              </select>
              <button class="button button--ghost">Filters</button>
              <button id="add-candidate" class="button button--primary">Add Candidate</button>
            </div>
          </header>

          <section class="board">
            <div class="board__column" data-column="not-scheduled">
              <div class="column__header">
                <div>
                  <div class="column__title">Not Scheduled</div>
                  <div class="column__subtitle">High priority candidates with open items.</div>
                </div>
              </div>
              <div class="column__list" id="not-scheduled"></div>
            </div>

            <div class="board__column" data-column="neo-scheduled">
              <div class="column__header">
                <div>
                  <div class="column__title">NEO Scheduled</div>
                  <div class="column__subtitle">Orientation scheduled but pending clearance.</div>
                </div>
              </div>
              <div class="column__list" id="neo-scheduled"></div>
            </div>

            <div class="board__column" data-column="in-progress">
              <div class="column__header">
                <div>
                  <div class="column__title">Onboarding · In Progress</div>
                  <div class="column__subtitle">Action items are underway.</div>
                </div>
              </div>
              <div class="column__list" id="in-progress"></div>
            </div>
          </section>
        </section>

        <section id="page-exports" class="page">
          <header class="topbar">
            <div>
              <div class="topbar__title">CSV Exports</div>
              <div class="topbar__subtitle">Download your exported CSV files.</div>
            </div>
            <div class="topbar__actions">
              <button id="download-selected" class="button button--success">
                <span class="button__icon">↓</span>
                Download
              </button>
              <button id="export-csv" class="button button--primary">Export CSV</button>
              <button id="exports-delete" class="button button--danger" disabled>
                <span class="button__icon">Del</span>
                Delete Selected
              </button>
              <button id="exports-refresh" class="button button--circle" aria-label="Refresh">↻</button>
            </div>
          </header>

          <section class="board board--exports">
            <div class="board__column" data-column="exports-files">
              <div class="column__header">
                <div>
                  <div class="column__title">Export Files</div>
                  <div class="column__subtitle">Select a CSV file to preview.</div>
                </div>
              </div>
              <ul id="exports-list" class="column__list"></ul>
            </div>

            <div class="board__column board__column--wide" data-column="exports-preview">
              <div class="column__header">
                <div>
                  <div class="column__title">Preview</div>
                  <div class="column__subtitle">Preview the selected export.</div>
                </div>
              </div>
              <div class="column__list">
                <div id="exports-preview" class="exports-preview">Select a CSV to preview.</div>
              </div>
            </div>
          </section>
        </section>

        <section id="page-archives" class="page">
          <header class="topbar">
            <div>
              <div class="topbar__title">Archives</div>
              <div class="topbar__subtitle">Browse password-protected archives.</div>
            </div>
            <div class="topbar__actions">
              <div class="archives__actions">
                <button id="archive-unlock" class="button button--ghost">Unlock archive</button>
                <button id="archive-download" class="button button--ghost">Download archive</button>
                <button id="archive-delete" class="button button--danger">Delete archive</button>
              </div>
            </div>
          </header>

          <section class="board board--archives">
            <div class="board__column" data-column="archives">
              <div class="column__header">
                <div>
                  <div class="column__title">Archive Files</div>
                  <div class="column__subtitle">Select an archive.</div>
                </div>
              </div>
              <ul id="archives-list" class="column__list"></ul>
            </div>

            <div class="board__column board__column--wide" data-column="archive-contents">
              <div class="column__header">
                <div>
                  <div class="column__title">Contents</div>
                  <div class="column__subtitle">Browse files and preview contents.</div>
                </div>
              </div>
              <div class="column__list">
                <div class="archives__list-and-preview">
                  <ul id="archives-contents" class="archives-files"></ul>
                  <div id="archive-preview" class="archive-preview">Select a file to view.</div>
                </div>
              </div>
            </div>
          </section>
        </section>

        <section id="page-removed" class="page">
          <header class="topbar">
            <div>
              <div class="topbar__title">Removed Candidates</div>
              <div class="topbar__subtitle">Candidates moved to trash.</div>
            </div>
          </header>
          <div class="removed__body">
            <ul id="removed-list" class="removed-list"></ul>
          </div>
        </section>

        <section id="page-settings" class="page">
          <header class="topbar">
            <div>
              <div class="topbar__title">Settings</div>
              <div class="topbar__subtitle">Application settings and preferences.</div>
            </div>
          </header>
          <div class="page__body">
            <div class="card">
              <h3>Appearance</h3>
              <div class="field">
                <label>Theme</label>
                <div class="setting-row">
                  <button id="theme-toggle" class="button button--ghost" type="button">Light mode</button>
                  <div class="muted">Toggle between light and dark modes. Preference is saved.</div>
                </div>
              </div>
            </div>            <div class="card">
              <h3>Security</h3>
              <div class="field">
                <label>Program Password</label>
                <div class="setting-row">
                  <button id="change-password-button" class="button button--ghost" type="button">Change password</button>
                  <div class="muted">Change the program password. Current password required.</div>
                </div>
              </div>
            </div>          </div>
        </section>

        <!-- Edit Candidate Modal -->
        <div id="edit-modal" class="modal hidden">
          <div class="modal__overlay"></div>
          <div class="modal__container">
            <div class="modal__header">
              <div class="modal__title">
                <h2 id="modal-title">Edit Candidate</h2>
                <p id="modal-subtitle">Update candidate information</p>
              </div>
              <button class="modal__close" id="modal-close" aria-label="Close modal">✕</button>
            </div>
            
            <div class="modal__body">
              <form id="candidate-form" class="modal__form">
                <div class="modal__quick-info">
                  <input id="edit-name" form="candidate-form" name="Name" placeholder="Candidate name" class="modal__quick-input" />
                  <input id="edit-icims" form="candidate-form" name="ICIMS ID" placeholder="ICIMS ID" class="modal__quick-input modal__quick-input--narrow" />
                  <input id="edit-neo-date" form="candidate-form" name="NEO Scheduled Date" type="date" class="modal__quick-input modal__quick-input--date" />
                  <input id="edit-employee-id" form="candidate-form" name="Employee ID" placeholder="Employee #" class="modal__quick-input modal__quick-input--narrow" />
                </div>
                
                <div class="modal__content">
                  <div class="edit-cards">
                    <article class="edit-card" id="card-basics">
                      <div class="edit-card__header">Pre NEO</div>
                      <div class="edit-card__body" id="edit-card-basics"></div>
                    </article>
                    
                    <article class="edit-card" id="card-job">
                      <div class="edit-card__header">At NEO</div>
                      <div class="edit-card__body" id="edit-card-job"></div>
                    </article>
                    
                    <article class="edit-card" id="card-background">
                      <div class="edit-card__header">Post NEO</div>
                      <div class="edit-card__body" id="edit-card-background"></div>
                    </article>
                  </div>
                </div>
              </form>
            </div>
            
            <div class="modal__footer">
              <button id="edit-cancel" class="button button--ghost" type="button">Cancel</button>
              <button id="save-candidate" class="button button--primary" type="submit" form="candidate-form">Save Candidate</button>
            </div>
          </div>
        </div>
      </main>

      <aside class="details details--hidden" id="details-panel">
        <div class="details__card">
          <div class="details__header">
            <div>
              <div class="details__title" id="details-title">Candidate Details</div>
              <div class="details__subtitle" id="details-subtitle"></div>
            </div>
            <span id="details-status" class="badge badge--warning"></span>
          </div>
          <div class="details__body" id="details-body"></div>
          <div class="details__notes" id="details-notes"></div>
          <div class="details__actions">
            <button id="details-archive" class="button button--ghost">Archive Candidate</button>
            <button id="details-remove" class="button button--danger">Remove Candidate</button>
            <button id="details-edit" class="button button--primary button--full">Edit candidate details</button>
          </div>
        </div>
      </aside>

      <aside class="details details--hidden" id="weekly-panel">
        <div class="details__card">
          <div class="details__header">
            <div>
              <div class="details__title">Weekly Tracker</div>
              <div class="details__subtitle" id="weekly-panel-range"></div>
            </div>
          </div>
          <div class="details__body" id="weekly-panel-body"></div>
          <div class="details__actions">
            <button id="weekly-panel-save" class="button button--primary button--full">Save Week</button>
          </div>
        </div>
      </aside>

      <aside class="details details--hidden" id="todo-panel">
        <div class="details__card">
          <div class="details__header">
            <div>
              <div class="details__title">To Do List</div>
              <div class="details__subtitle">Tasks are saved immediately</div>
            </div>
          </div>
          <div class="details__body" id="todo-panel-body">
            <div class="todo__input-row">
              <input id="todo-input" type="text" placeholder="Add a new task..." class="todo__input" />
              <button id="todo-add" class="button button--primary">Add</button>
            </div>
            <ul id="todo-list" class="todo__list"></ul>
          </div>
        </div>
      </aside>
    </div>

    <div id="weekly-modal" class="modal hidden">
      <div class="modal__card modal__card--wide">
        <div class="modal__header">
          <h2>Weekly Tracker</h2>
          <button id="weekly-close" class="icon-button">✕</button>
        </div>
        <div class="weekly__meta">
          <span id="weekly-range"></span>
        </div>
        <form id="weekly-form" class="weekly__body"></form>
        <div class="modal__footer">
          <button id="weekly-export" class="button button--ghost" type="button">Export Summary</button>
          <div class="modal__actions">
            <button id="weekly-cancel" class="button button--ghost" type="button">Close</button>
            <button id="weekly-save" class="button button--primary" type="submit" form="weekly-form">Save Week</button>
          </div>
        </div>
      </div>
    </div>
    <div id="archive-modal" class="modal hidden">
      <div class="modal__card modal__card--small">
        <div class="modal__header">
          <h2>Archive Candidate</h2>
          <button id="archive-close" class="icon-button">✕</button>
        </div>
        <form id="archive-form" class="modal__body modal__body--single">
          <div class="field">
            <label>Archive Password</label>
            <input id="archive-password" type="password" required />
          </div>
          <div class="field">
            <label>NEO Start Time</label>
            <input id="archive-start" type="text" placeholder="08:00" />
          </div>
          <div class="field">
            <label>NEO End Time</label>
            <input id="archive-end" type="text" placeholder="17:00" />
          </div>
        </form>
        <div class="modal__footer">
          <button id="archive-cancel" class="button button--ghost" type="button">Cancel</button>
          <button id="archive-confirm" class="button button--primary" type="submit" form="archive-form">Archive</button>
        </div>
      </div>
    </div>

    <!-- Archive Password Prompt (used when loading or viewing archive files) -->
    <div id="archive-password-modal" class="modal hidden">
      <div class="modal__card modal__card--small">
        <div class="modal__header">
          <h2>Archive Password</h2>
          <button id="archive-password-close" class="icon-button">✕</button>
        </div>
        <form id="archive-password-form" class="modal__body modal__body--single" autocomplete="off">
          <div class="field">
            <label>Archive password</label>
            <input id="archive-prompt-password" type="password" required />
          </div>
          <div class="muted" id="archive-password-note">Password will be cached for 10 minutes after entry.</div>
        </form>
        <div class="modal__footer">
          <div class="modal__actions">
            <button id="archive-password-cancel" class="button button--ghost" type="button">Cancel</button>
            <button id="archive-password-submit" class="button button--primary" type="submit" form="archive-password-form">Continue</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Archive Delete Confirm (asks for program password before deleting) -->
    <div id="archive-delete-modal" class="modal hidden">
      <div class="modal__card modal__card--small">
        <div class="modal__header">
          <h2>Delete Archive</h2>
          <button id="archive-delete-close" class="icon-button">✕</button>
        </div>
        <form id="archive-delete-form" class="modal__body modal__body--single" autocomplete="off">
          <div class="field">
            <p id="archive-delete-message">This will permanently delete the selected archive. This action cannot be undone.</p>
          </div>
          <div class="field">
            <label>Enter your program password to confirm</label>
            <input id="archive-delete-password" type="password" required />
          </div>
        </form>
        <div class="modal__footer">
          <div class="modal__actions">
            <button id="archive-delete-cancel" class="button button--ghost" type="button">Cancel</button>
            <button id="archive-delete-confirm" class="button button--danger" type="submit" form="archive-delete-form">Delete</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Action Result Modal -->
    <div id="action-result-modal" class="modal hidden">
      <div class="modal__card modal__card--small">
        <div class="modal__header">
          <h2 id="action-result-title"></h2>
          <button id="action-result-close" class="icon-button">✕</button>
        </div>
        <div class="modal__body modal__body--single">
          <p id="action-result-message"></p>
        </div>
        <div class="modal__footer">
          <button id="action-result-ok" class="button button--primary" type="button">OK</button>
        </div>
      </div>
    </div>

    <!-- Archive Password Prompt (used when loading or viewing archive files) -->
    <div id="archive-password-modal" class="modal hidden">
      <div class="modal__card modal__card--small">
        <div class="modal__header">
          <h2>Archive Password</h2>
          <button id="archive-password-close" class="icon-button">✕</button>
        </div>
        <form id="archive-password-form" class="modal__body modal__body--single" autocomplete="off">
          <div class="field">
            <label>Archive password</label>
            <input id="archive-prompt-password" type="password" required />
          </div>
        </form>
        <div class="modal__footer">
          <div class="modal__actions">
            <button id="archive-password-cancel" class="button button--ghost" type="button">Cancel</button>
            <button id="archive-password-submit" class="button button--primary" type="submit" form="archive-password-form">Continue</button>
          </div>
        </div>
      </div>
    </div>

    <div id="auth-modal" class="modal hidden">
      <div class="modal__card modal__card--small">
        <div class="modal__header">
          <h2 id="auth-title">Sign In</h2>
          <button id="auth-close" class="icon-button">✕</button>
        </div>
        <form id="auth-form" class="modal__body modal__body--single" autocomplete="off">
          <div class="field">
            <label>Program Password</label>
            <input id="auth-password" type="password" required autocomplete="current-password" />
          </div>
        </form>
        <div class="modal__footer">
          <button id="auth-submit" class="button button--primary" type="submit" form="auth-form">Continue</button>
        </div>
      </div>
    </div>

    <div id="change-password-modal" class="modal hidden">
      <div class="modal__card modal__card--small">
        <div class="modal__header">
          <h2>Change Program Password</h2>
          <button id="change-password-close" class="icon-button">✕</button>
        </div>
        <form id="change-password-form" class="modal__body modal__body--single" autocomplete="off">
          <div class="field">
            <label>Current Password</label>
            <input id="change-current" type="password" required />
          </div>
          <div class="field">
            <label>New Password</label>
            <input id="change-new" type="password" required />
          </div>
          <div class="field">
            <label>Confirm New Password</label>
            <input id="change-confirm" type="password" required />
          </div>
        </form>
        <div class="modal__footer">
          <button id="change-password-submit" class="button button--primary" type="submit" form="change-password-form">Change password</button>
        </div>
      </div>
    </div>

    <!-- NEO action modal -->
    <div id="neo-modal" class="modal hidden">
      <div class="modal__card modal__card--small">
        <div class="modal__header">
          <h2>NEO Actions</h2>
          <button id="neo-close" class="icon-button">✕</button>
        </div>
        <div class="modal__body modal__body--single">
          <p>Candidate: <strong class="neo-name" id="neo-name">Name</strong></p>
          <p>NEO Date: <span id="neo-date">—</span></p>
          <p>Choose an action:</p>
          <div style="display:flex; gap:8px; margin-top:8px;">
            <button id="neo-move" class="button button--primary">Move to Onboarding in Progress</button>
            <button id="neo-remove" class="button button--danger">Remove Candidate</button>
            <button id="neo-cancel" class="button button--ghost">Cancel</button>
          </div>
        </div>
      </div>
    </div>

    <script src="./app.js"></script>
  </body>
</html>
