<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Workflow Web</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./styles.css" />
    <link rel="stylesheet" href="./overrides.css" />
  </head>
  <body>
    <div class="app">
      <aside class="sidebar">
        <div class="sidebar__brand">
          <button id="sidebar-toggle" class="icon-button" aria-label="Toggle sidebar">â˜°</button>
          <div class="brand__logo">W</div>
          <div>
            <div class="brand__title">Workflow</div>
            <div class="brand__subtitle">Tracker</div>
          </div>
        </div>
        <nav class="sidebar__nav">
          <button class="nav-item nav-item--active" data-page="dashboard">Onboarding Dashboard</button>
          <button id="weekly-tracker" class="nav-item" data-page="weekly">Weekly Tracker</button>
          <button id="todo-tracker" class="nav-item" data-page="todo">To Do List</button>
          <button class="nav-item" data-page="archives">Your onboarding database</button>
        </nav>

        <div class="sidebar__mini" aria-hidden="true">
          <button class="nav-item nav-item--mini" data-page="dashboard" title="Onboarding Dashboard" tabindex="-1">DB</button>
          <button id="weekly-tracker-mini" class="nav-item nav-item--mini" data-page="weekly" title="Weekly Tracker" tabindex="-1">WK</button>
          <button id="todo-tracker-mini" class="nav-item nav-item--mini" data-page="todo" title="To Do List" tabindex="-1">TD</button>
          <button class="nav-item nav-item--mini" data-page="archives" title="Your onboarding database" tabindex="-1">DB</button>
          <button class="nav-item nav-item--mini" data-page="settings" title="Settings" tabindex="-1">ST</button>
        </div>
        <div class="sidebar__spacer"></div>
        <div class="sidebar__footer">
          <button id="settings-button" class="nav-item" data-page="settings">Settings</button>
        </div>
      </aside>

      <main class="main">
        <section id="page-dashboard" class="page page--active">
          <header class="topbar">
            <div>
              <div class="topbar__title">Onboarding Dashboard</div>
              <div class="topbar__subtitle">Keep the team moving with live status cards.</div>
            </div>
            <div class="topbar__actions">
              <div class="search">
                <span class="search__icon">âŒ•</span>
                <input id="search-input" type="text" placeholder="Search" />
              </div>
              <select id="branch-filter" class="select">
                <option value="">All branches</option>
              </select>
              <button class="button button--ghost">Filters</button>
              <button id="add-candidate" class="button button--primary">Add Candidate</button>
            </div>
          </header>

          <section class="board">
            <div class="board__column" data-column="not-scheduled">
              <div class="column__header">
                <div>
                  <div class="column__title">Not Scheduled</div>
                  <div class="column__subtitle">High priority candidates with open items.</div>
                </div>
              </div>
              <div class="column__list" id="not-scheduled"></div>
            </div>

            <div class="board__column" data-column="neo-scheduled">
              <div class="column__header">
                <div>
                  <div class="column__title">NEO Scheduled</div>
                  <div class="column__subtitle">Orientation scheduled but pending clearance.</div>
                </div>
              </div>
              <div class="column__list" id="neo-scheduled"></div>
            </div>

            <div class="board__column" data-column="in-progress">
              <div class="column__header">
                <div>
                  <div class="column__title">Onboarding Â· In Progress</div>
                  <div class="column__subtitle">Action items are underway.</div>
                </div>
              </div>
              <div class="column__list" id="in-progress"></div>
            </div>
          </section>
        </section>

        <section id="page-archives" class="page">
          <header class="topbar">
            <div>
              <div class="topbar__title">Your onboarding database</div>
              <div class="topbar__subtitle">View and export temporary and long-term storage tables.</div>
            </div>
            <div class="topbar__actions">
              <select id="table-selector" class="select">
                <option value="">Select table to view</option>
                <option value="temporary">Temporary Storage (Active Onboarding)</option>
                <option value="longterm">Long-term Storage (Archives)</option>
              </select>
              <button id="export-csv" class="button button--primary">Export Table to CSV</button>
            </div>
          </header>

          <section class="board">
            <div class="board__column board__column--full" data-column="database-view">
              <div class="column__header">
                <div>
                  <div class="column__title" id="table-title">Select a table to view</div>
                  <div class="column__subtitle" id="table-subtitle">Choose temporary or long-term storage from the dropdown above.</div>
                </div>
              </div>
              <div class="column__list">
                <div id="csv-viewer-container" class="csv-viewer">
                  <div id="csv-placeholder" class="csv-placeholder">
                    <div class="csv-placeholder__icon">ðŸ“Š</div>
                    <div class="csv-placeholder__title">No table selected</div>
                    <div class="csv-placeholder__subtitle">Select a table from the dropdown to view its contents in a spreadsheet format.</div>
                  </div>
                  <div id="csv-viewer" class="csv-table-container hidden">
                    <!-- CSV table will be rendered here -->
                  </div>
                </div>
              </div>
            </div>
          </section>
        </section>

        <section id="page-settings" class="page">
          <header class="topbar">
            <div>
              <div class="topbar__title">Settings</div>
              <div class="topbar__subtitle">Application settings and preferences.</div>
            </div>
          </header>
          <div class="page__body">
            <div class="card">
              <h3>Appearance</h3>
              <div class="field">
                <label>Theme</label>
                <div class="setting-row">
                  <button id="theme-toggle" class="button button--ghost" type="button">Light mode</button>
                  <div class="muted">Toggle between light and dark modes. Preference is saved.</div>
                </div>
              </div>
            </div>            <div class="card">
              <h3>Security</h3>
              <div class="field">
                <label>Program Password</label>
                <div class="setting-row">
                  <button id="change-password-button" class="button button--ghost" type="button">Change password</button>
                  <div class="muted">Change the program password. Current password required.</div>
                </div>
              </div>
            </div>          </div>
        </section>

        <!-- Edit Candidate Modal -->
        <div id="edit-modal" class="modal hidden">
          <div class="modal__overlay"></div>
          <div class="modal__container modal__container--wide">
            <div class="modal__header">
              <div class="modal__title">
                <h2 id="modal-title">Edit Candidate</h2>
                <p id="modal-subtitle">Update candidate information</p>
              </div>
              <button class="modal__close" id="modal-close" aria-label="Close modal">âœ•</button>
            </div>
            
            <div class="modal__body">
              <form id="candidate-form" class="modal__form">
                <!-- Quick Info Banner -->
                <div class="modal__quick-info">
                  <div class="quick-info-group">
                    <label>Candidate Name:</label>
                    <input id="edit-name" form="candidate-form" name="Name" placeholder="Candidate name" class="modal__quick-input modal__quick-input--name" />
                  </div>
                  <div class="quick-info-group">
                    <label>ICIMS ID:</label>
                    <input id="edit-icims" form="candidate-form" name="ICIMS ID" placeholder="ICIMS ID" class="modal__quick-input modal__quick-input--narrow" />
                  </div>
                  <div class="quick-info-group">
                    <label>Employee ID:</label>
                    <input id="edit-employee-id" form="candidate-form" name="Employee ID" placeholder="Employee #" class="modal__quick-input modal__quick-input--narrow" />
                  </div>
                  <div class="quick-info-group">
                    <label>NEO Scheduled Date:</label>
                    <input id="edit-neo-date" form="candidate-form" name="NEO Scheduled Date" type="date" class="modal__quick-input modal__quick-input--date" />
                  </div>
                </div>
                
                <!-- Dashboard-style 3 Column Board -->
                <div class="modal__board">
                  <!-- Column 1: Pre NEO -->
                  <div class="modal__column" data-column="pre-neo">
                    <div class="modal__column-header">
                      <div class="modal__column-title">Pre NEO</div>
                      <div class="modal__column-subtitle">Candidate basics & contact info</div>
                    </div>
                    <div class="modal__column-content" id="column-pre-neo">
                      <!-- Job Info Card -->
                      <div class="modal__card">
                        <div class="modal__card-header">Job Information</div>
                        <div class="modal__card-body" id="card-job"></div>
                      </div>
                      <!-- Contact Info Card -->
                      <div class="modal__card">
                        <div class="modal__card-header">Contact Information</div>
                        <div class="modal__card-body" id="card-contact"></div>
                      </div>
                      <!-- Background Check Card -->
                      <div class="modal__card">
                        <div class="modal__card-header">Background Check</div>
                        <div class="modal__card-body" id="card-background"></div>
                      </div>
                    </div>
                  </div>

                  <!-- Column 2: At NEO -->
                  <div class="modal__column" data-column="at-neo">
                    <div class="modal__column-header">
                      <div class="modal__column-title">At NEO</div>
                      <div class="modal__column-subtitle">Job details & emergency contact</div>
                    </div>
                    <div class="modal__column-content" id="column-at-neo">
                      <!-- Identification Card -->
                      <div class="modal__card">
                        <div class="modal__card-header">Identification</div>
                        <div class="modal__card-body" id="card-id"></div>
                      </div>
                      <!-- Emergency Contact Card -->
                      <div class="modal__card">
                        <div class="modal__card-header">Emergency Contact</div>
                        <div class="modal__card-body" id="card-emergency"></div>
                      </div>
                      <!-- ike thatDirect Deposit Card -->
                      <div class="modal__card">
                        <div class="modal__card-header">Direct Deposit</div>
                        <div class="modal__card-body" id="card-direct-deposit"></div>
                      </div>
                    </div>
                  </div>

                  <!-- Column 3: Post NEO -->
                  <div class="modal__column" data-column="post-neo">
                    <div class="modal__column-header">
                      <div class="modal__column-title">Post NEO</div>
                      <div class="modal__column-subtitle">Background & licensing status</div>
                    </div>
                    <div class="modal__column-content" id="column-post-neo">
                      <!-- Uniforms Card -->
                      <div class="modal__card">
                        <div class="modal__card-header">Uniforms</div>
                        <div class="modal__card-body" id="card-post-neo"></div>
                      </div>
                    </div>
                  </div>

                  <!-- Column 4: Additional Info -->
                  <div class="modal__column" data-column="additional-info">
                    <div class="modal__column-header">
                      <div class="modal__column-title">Additional Info</div>
                      <div class="modal__column-subtitle">Notes & miscellaneous</div>
                    </div>
                    <div class="modal__column-content" id="column-additional-info">
                      <!-- Notes Card -->
                      <div class="modal__card">
                        <div class="modal__card-header">Notes</div>
                        <div class="modal__card-body" id="card-notes"></div>
                      </div>
                      <!-- Clearance and State Licenses Card -->
                      <div class="modal__card">
                        <div class="modal__card-header">Clearance and State Licenses</div>
                        <div class="modal__card-body" id="card-additional"></div>
                      </div>
                    </div>
                  </div>
                </div>
              </form>
            </div>
            
            <div class="modal__footer">
              <button id="edit-cancel" class="button button--ghost" type="button">Cancel</button>
              <button id="save-candidate" class="button button--primary" type="submit" form="candidate-form">Save Candidate</button>
            </div>
          </div>
        </div>
      </main>

      <aside class="details details--hidden" id="details-panel">
        <div class="details__card">
          <div class="details__header">
            <div>
              <div class="details__title" id="details-title">Candidate Details</div>
              <div class="details__subtitle" id="details-subtitle"></div>
            </div>
            <span id="details-status" class="badge badge--warning"></span>
          </div>
          <div class="details__body" id="details-body"></div>
          <div class="details__notes" id="details-notes"></div>
          <div class="details__actions">
            <button id="details-archive" class="button button--ghost">Archive Candidate</button>
            <button id="details-remove" class="button button--danger">Remove Candidate</button>
            <button id="details-edit" class="button button--primary button--full">Edit candidate details</button>
          </div>
        </div>
      </aside>

      <aside class="details details--hidden" id="weekly-panel">
        <div class="details__card">
          <div class="details__header">
            <div>
              <div class="details__title">Weekly Tracker</div>
              <div class="details__subtitle" id="weekly-panel-range"></div>
            </div>
            <button id="weekly-panel-close" class="icon-button" aria-label="Close weekly tracker">âœ•</button>
          </div>
          <div class="details__body" id="weekly-panel-body"></div>
          <div class="details__actions">
            <button id="weekly-panel-export" class="button button--ghost button--full" type="button">Export Summary</button>
            <button id="weekly-panel-save" class="button button--primary button--full">Save Week</button>
          </div>
        </div>
      </aside>

      <aside class="details details--hidden" id="todo-panel">
        <div class="details__card">
          <div class="details__header">
            <div>
              <div class="details__title">To Do List</div>
              <div class="details__subtitle">Tasks are saved immediately</div>
            </div>
          </div>
          <div class="details__body" id="todo-panel-body">
            <div class="todo__input-row">
              <input id="todo-input" type="text" placeholder="Add a new task..." class="todo__input" />
              <button id="todo-add" class="button button--primary">Add</button>
            </div>
            <ul id="todo-list" class="todo__list"></ul>
          </div>
        </div>
      </aside>
    </div>

    <div id="archive-modal" class="modal hidden">
      <div class="modal__card modal__card--small">
        <div class="modal__header">
          <h2>Archive Candidate</h2>
          <button id="archive-close" class="icon-button">âœ•</button>
        </div>
        <form id="archive-form" class="modal__body modal__body--single">
          <div class="field">
            <label>NEO Start Time</label>
            <input id="archive-start" type="text" placeholder="08:00" />
          </div>
          <div class="field">
            <label>NEO End Time</label>
            <input id="archive-end" type="text" placeholder="17:00" />
          </div>
        </form>
        <div class="modal__footer">
          <button id="archive-cancel" class="button button--ghost" type="button">Cancel</button>
          <button id="archive-confirm" class="button button--primary" type="submit" form="archive-form">Archive</button>
        </div>
      </div>
    </div>

    <!-- Archive Password Prompt (used when loading or viewing archive files) -->
    <div id="archive-password-modal" class="modal hidden">
      <div class="modal__card modal__card--small">
        <div class="modal__header">
          <h2>Archive Password</h2>
          <button id="archive-password-close" class="icon-button">âœ•</button>
        </div>
        <form id="archive-password-form" class="modal__body modal__body--single" autocomplete="off">
          <div class="field">
            <label>Archive password</label>
            <input id="archive-prompt-password" type="password" required />
          </div>
          <div class="muted" id="archive-password-note">Password will be cached for 10 minutes after entry.</div>
        </form>
        <div class="modal__footer">
          <div class="modal__actions">
            <button id="archive-password-cancel" class="button button--ghost" type="button">Cancel</button>
            <button id="archive-password-submit" class="button button--primary" type="submit" form="archive-password-form">Continue</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Archive Delete Confirm (asks for program password before deleting) -->
    <div id="archive-delete-modal" class="modal hidden">
      <div class="modal__card modal__card--small">
        <div class="modal__header">
          <h2>Delete Archive</h2>
          <button id="archive-delete-close" class="icon-button">âœ•</button>
        </div>
        <form id="archive-delete-form" class="modal__body modal__body--single" autocomplete="off">
          <div class="field">
            <p id="archive-delete-message">This will permanently delete the selected archive. This action cannot be undone.</p>
          </div>
          <div class="field">
            <label>Enter your program password to confirm</label>
            <input id="archive-delete-password" type="password" required />
          </div>
        </form>
        <div class="modal__footer">
          <div class="modal__actions">
            <button id="archive-delete-cancel" class="button button--ghost" type="button">Cancel</button>
            <button id="archive-delete-confirm" class="button button--danger" type="submit" form="archive-delete-form">Delete</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Action Result Modal -->
    <div id="action-result-modal" class="modal hidden">
      <div class="modal__card modal__card--small">
        <div class="modal__header">
          <h2 id="action-result-title"></h2>
          <button id="action-result-close" class="icon-button">âœ•</button>
        </div>
        <div class="modal__body modal__body--single">
          <p id="action-result-message"></p>
        </div>
        <div class="modal__footer">
          <button id="action-result-ok" class="button button--primary" type="button">OK</button>
        </div>
      </div>
    </div>

    <!-- Archive Password Prompt (used when loading or viewing archive files) -->
    <div id="archive-password-modal" class="modal hidden">
      <div class="modal__card modal__card--small">
        <div class="modal__header">
          <h2>Archive Password</h2>
          <button id="archive-password-close" class="icon-button">âœ•</button>
        </div>
        <form id="archive-password-form" class="modal__body modal__body--single" autocomplete="off">
          <div class="field">
            <label>Archive password</label>
            <input id="archive-prompt-password" type="password" required />
          </div>
        </form>
        <div class="modal__footer">
          <div class="modal__actions">
            <button id="archive-password-cancel" class="button button--ghost" type="button">Cancel</button>
            <button id="archive-password-submit" class="button button--primary" type="submit" form="archive-password-form">Continue</button>
          </div>
        </div>
      </div>
    </div>

    <div id="auth-modal" class="modal hidden">
      <div class="modal__card modal__card--small">
        <div class="modal__header">
          <h2 id="auth-title">Sign In</h2>
          <button id="auth-close" class="icon-button">âœ•</button>
        </div>
        <form id="auth-form" class="modal__body modal__body--single" autocomplete="off">
          <div class="field">
            <label>Program Password</label>
            <input id="auth-password" type="password" required autocomplete="current-password" />
          </div>
        </form>
        <div class="modal__footer">
          <button id="auth-submit" class="button button--primary" type="submit" form="auth-form">Continue</button>
        </div>
      </div>
    </div>

    <div id="change-password-modal" class="modal hidden">
      <div class="modal__card modal__card--small">
        <div class="modal__header">
          <h2>Change Program Password</h2>
          <button id="change-password-close" class="icon-button">âœ•</button>
        </div>
        <form id="change-password-form" class="modal__body modal__body--single" autocomplete="off">
          <div class="field">
            <label>Current Password</label>
            <input id="change-current" type="password" required />
          </div>
          <div class="field">
            <label>New Password</label>
            <input id="change-new" type="password" required />
          </div>
          <div class="field">
            <label>Confirm New Password</label>
            <input id="change-confirm" type="password" required />
          </div>
        </form>
        <div class="modal__footer">
          <button id="change-password-submit" class="button button--primary" type="submit" form="change-password-form">Change password</button>
        </div>
      </div>
    </div>

    <!-- NEO action modal -->
    <div id="neo-modal" class="modal hidden">
      <div class="modal__card modal__card--small">
        <div class="modal__header">
          <h2>NEO Actions</h2>
          <button id="neo-close" class="icon-button">âœ•</button>
        </div>
        <div class="modal__body modal__body--single">
          <p>Candidate: <strong class="neo-name" id="neo-name">Name</strong></p>
          <p>NEO Date: <span id="neo-date">â€”</span></p>
          <p>Choose an action:</p>
          <div style="display:flex; gap:8px; margin-top:8px;">
            <button id="neo-move" class="button button--primary">Move to Onboarding in Progress</button>
            <button id="neo-remove" class="button button--danger">Remove Candidate</button>
            <button id="neo-cancel" class="button button--ghost">Cancel</button>
          </div>
        </div>
      </div>
    </div>

    <script src="./app.js"></script>
  </body>
</html>
