<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Workflow Web</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/static/styles.css" />
    <link rel="stylesheet" href="/static/overrides.css" />
  </head>
  <body>
    <div class="app">
      <aside class="sidebar">
        <div class="sidebar__brand">
          <div class="brand__logo">W</div>
          <div>
            <div class="brand__title">Workflow</div>
            <div class="brand__subtitle">Tracker</div>
          </div>
        </div>
        <nav class="sidebar__nav">
          <button class="nav-item nav-item--active" data-page="dashboard">üè† Onboarding Dashboard</button>
          <button id="weekly-tracker" class="nav-item" data-page="weekly">üìÖ Weekly Tracker</button>
          <button class="nav-item" data-page="removed">üóëÔ∏è Removed Candidates</button>
          <button class="nav-item" data-page="exports">üì¶ Exports</button>
          <button class="nav-item" data-page="archives">üóÑÔ∏è Archives</button>
        </nav>
        <div class="sidebar__mini" aria-hidden="true">
          <button class="nav-item nav-item--mini" data-page="dashboard" title="Onboarding Dashboard">üè†</button>
          <button id="weekly-tracker-mini" class="nav-item nav-item--mini" data-page="weekly" title="Weekly Tracker">üìÖ</button>
          <button class="nav-item nav-item--mini" data-page="removed" title="Removed Candidates">üóëÔ∏è</button>
          <button class="nav-item nav-item--mini" data-page="exports" title="Exports">üì¶</button>
          <button class="nav-item nav-item--mini" data-page="archives" title="Archives">üóÑÔ∏è</button>
          <button class="nav-item nav-item--mini" data-page="settings" title="Settings">‚öôÔ∏è</button>
        </div>
        <div class="sidebar__section">
          <div class="section__title">Teams</div>
          <div class="pill">Salem</div>
          <div class="pill">Portland</div>
        </div>
        <div class="sidebar__footer">
          <button id="settings-button" class="nav-item" data-page="settings">‚öôÔ∏è Settings</button>
        </div>
      </aside>

      <main class="main">
        <section id="page-dashboard" class="page page--active">
          <header class="topbar">
            <div>
              <div class="topbar__title">Onboarding Dashboard</div>
              <div class="topbar__subtitle">Keep the team moving with live status cards.</div>
            </div>
            <div class="topbar__actions">
              <div class="search">
                <span class="search__icon">‚åï</span>
                <input id="search-input" type="text" placeholder="Search" />
              </div>
              <select id="branch-filter" class="select">
                <option value="">All branches</option>
              </select>
              <button class="button button--ghost">Filters</button>
              <button id="add-candidate" class="button button--primary">Add Candidate</button>
            </div>
          </header>

          <section class="stats">
            <div class="stat-card">
              <div class="stat-card__label">Not Scheduled</div>
              <div id="stat-not-scheduled" class="stat-card__value">0</div>
              <div class="stat-card__trend">Live count</div>
            </div>
            <div class="stat-card">
              <div class="stat-card__label">NEO Scheduled</div>
              <div id="stat-neo-scheduled" class="stat-card__value">0</div>
              <div class="stat-card__trend">Live count</div>
            </div>
            <div class="stat-card">
              <div class="stat-card__label">In Progress</div>
              <div id="stat-in-progress" class="stat-card__value">0</div>
              <div class="stat-card__trend">Live count</div>
            </div>
            <div class="stat-card">
              <div class="stat-card__label">Completed</div>
              <div id="stat-total" class="stat-card__value">0</div>
              <div class="stat-card__trend">All candidates</div>
            </div>
          </section>

          <section class="board">
            <div class="board__column" data-column="not-scheduled">
              <div class="column__header">
                <div>
                  <div class="column__title">Not Scheduled</div>
                  <div class="column__subtitle">High priority candidates with open items.</div>
                </div>
                <button class="icon-button">+</button>
              </div>
              <div class="column__list" id="not-scheduled"></div>
            </div>

            <div class="board__column" data-column="neo-scheduled">
              <div class="column__header">
                <div>
                  <div class="column__title">NEO Scheduled</div>
                  <div class="column__subtitle">Orientation scheduled but pending clearance.</div>
                </div>
                <button class="icon-button">+</button>
              </div>
              <div class="column__list" id="neo-scheduled"></div>
            </div>

            <div class="board__column" data-column="in-progress">
              <div class="column__header">
                <div>
                  <div class="column__title">Onboarding ¬∑ In Progress</div>
                  <div class="column__subtitle">Action items are underway.</div>
                </div>
                <button class="icon-button">+</button>
              </div>
              <div class="column__list" id="in-progress"></div>
            </div>
          </section>
        </section>

        <section id="page-exports" class="page">
          <header class="topbar">
            <div>
              <div class="topbar__title">CSV Exports</div>
              <div class="topbar__subtitle">Download your exported CSV files.</div>
            </div>
            <div class="topbar__actions">
              <button id="download-selected" class="button button--success">
                <span class="button__icon">‚¨á</span>
                Download
              </button>
              <button id="export-csv" class="button button--primary">Export CSV</button>
              <button id="exports-refresh" class="button button--circle" aria-label="Refresh">‚ü≥</button>
              <button id="exports-delete" class="button button--danger" disabled>Delete Selected</button>
            </div>
          </header>
          <div class="exports-grid">
            <div class="exports-card">
              <h3>Export Files</h3>
              <ul id="exports-list"></ul>
            </div>
            <div class="exports-card">
              <h3>Preview</h3>
              <div id="exports-preview" class="exports-preview">Select a CSV to preview.</div>
            </div>
          </div>
        </section>

        <section id="page-archives" class="page">
          <header class="topbar">
            <div>
              <div class="topbar__title">Archives</div>
              <div class="topbar__subtitle">Browse password-protected archives.</div>
            </div>
          </header>
          <div class="archives__body">
            <div class="archives__column">
              <h3>Archive Files</h3>
              <ul id="archives-list"></ul>
            </div>
            <div class="archives__column">
              <!-- archive actions now prompt for password via modal -->
              <ul id="archives-contents"></ul>
            </div>
          </div>
        </section>
      </main>

      <aside class="details">
        <div class="details__card">
          <div class="details__title">Candidate Details</div>
          <div class="details__body">
            <div class="detail">
              <span>Status</span>
              <strong class="badge badge--warning">Background check</strong>
            </div>
            <div class="detail">
              <span>Assigned</span>
              <strong>David C.</strong>
            </div>
            <div class="detail">
              <span>NEO Date</span>
              <strong>Feb 7, 2026</strong>
            </div>
          </div>
          <div class="details__section">
            <div class="details__section-title">Checklist</div>
            <label class="check"><input type="checkbox" checked /> CORI submitted</label>
            <label class="check"><input type="checkbox" /> NH GC cleared</label>
            <label class="check"><input type="checkbox" /> Direct deposit</label>
          </div>
          <button class="button button--primary button--full">Open Profile</button>
        </div>

        <div class="details__card">
          <div class="details__title">Saved Searches</div>
          <div class="pill pill--ghost">Hide Completed</div>
          <div class="pill pill--ghost">Needs Uniforms</div>
          <div class="pill pill--ghost">Start Today</div>
        </div>
      </aside>
    </div>

    <div id="modal" class="modal hidden">
      <div class="modal__card">
        <div class="modal__header">
          <h2 id="modal-title">Candidate</h2>
          <button id="modal-close" class="icon-button">‚úï</button>
        </div>
        <form id="candidate-form" class="modal__body"></form>
        <div class="modal__footer">
          <button id="delete-candidate" class="button button--ghost">Delete</button>
          <button id="archive-candidate" class="button button--ghost">Archive</button>
          <div class="modal__actions">
            <button id="cancel-candidate" class="button button--ghost" type="button">Cancel</button>
            <button id="save-candidate" class="button button--primary" type="submit" form="candidate-form">Save</button>
          </div>
        </div>
      </div>
    </div>
    <div id="weekly-modal" class="modal hidden">
      <div class="modal__card">
        <div class="modal__header">
          <h2>Weekly Tracker</h2>
          <button id="weekly-close" class="icon-button">‚úï</button>
        </div>
        <div class="weekly__meta">
          <span id="weekly-range"></span>
        </div>
        <form id="weekly-form" class="weekly__body"></form>
        <div class="modal__footer">
          <button id="weekly-export" class="button button--ghost" type="button">Export Summary</button>
          <div class="modal__actions">
            <button id="weekly-cancel" class="button button--ghost" type="button">Close</button>
            <button id="weekly-save" class="button button--primary" type="submit" form="weekly-form">Save Week</button>
          </div>
        </div>
      </div>
    </div>
    <div id="archive-modal" class="modal hidden">
      <div class="modal__card modal__card--small">
        <div class="modal__header">
          <h2>Archive Candidate</h2>
          <button id="archive-close" class="icon-button">‚úï</button>
        </div>
        <form id="archive-form" class="modal__body modal__body--single">
          <div class="field">
            <label>Archive Password</label>
            <input id="archive-password" type="password" required />
          </div>
          <div class="field">
            <label>NEO Start Time</label>
            <input id="archive-start" type="text" placeholder="08:00" />
          </div>
          <div class="field">
            <label>NEO End Time</label>
            <input id="archive-end" type="text" placeholder="17:00" />
          </div>
        </form>
        <div class="modal__footer">
          <button id="archive-cancel" class="button button--ghost" type="button">Cancel</button>
          <button id="archive-confirm" class="button button--primary" type="submit" form="archive-form">Archive</button>
        </div>
      </div>
    </div>

    <!-- Archive Password Prompt (used when loading or viewing archive files) -->
    <div id="archive-password-modal" class="modal hidden">
      <div class="modal__card modal__card--small">
        <div class="modal__header">
          <h2>Archive Password</h2>
          <button id="archive-password-close" class="icon-button">‚úï</button>
        </div>
        <form id="archive-password-form" class="modal__body modal__body--single" autocomplete="off">
          <div class="field">
            <label>Archive password</label>
            <input id="archive-prompt-password" type="password" required />
          </div>
          <div class="muted" id="archive-password-note">Password will be cached for 10 minutes after entry.</div>
        </form>
        <div class="modal__footer">
          <div class="modal__actions">
            <button id="archive-password-cancel" class="button button--ghost" type="button">Cancel</button>
            <button id="archive-password-submit" class="button button--primary" type="submit" form="archive-password-form">Continue</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Archive Delete Confirm (asks for program password before deleting) -->
    <div id="archive-delete-modal" class="modal hidden">
      <div class="modal__card modal__card--small">
        <div class="modal__header">
          <h2>Delete Archive</h2>
          <button id="archive-delete-close" class="icon-button">‚úï</button>
        </div>
        <form id="archive-delete-form" class="modal__body modal__body--single" autocomplete="off">
          <div class="field">
            <p id="archive-delete-message">This will permanently delete the selected archive. This action cannot be undone.</p>
          </div>
          <div class="field">
            <label>Enter your program password to confirm</label>
            <input id="archive-delete-password" type="password" required />
          </div>
        </form>
        <div class="modal__footer">
          <div class="modal__actions">
            <button id="archive-delete-cancel" class="button button--ghost" type="button">Cancel</button>
            <button id="archive-delete-confirm" class="button button--danger" type="submit" form="archive-delete-form">Delete</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Action Result Modal -->
    <div id="action-result-modal" class="modal hidden">
      <div class="modal__card modal__card--small">
        <div class="modal__header">
          <h2 id="action-result-title"></h2>
          <button id="action-result-close" class="icon-button">‚úï</button>
        </div>
        <div class="modal__body modal__body--single">
          <p id="action-result-message"></p>
        </div>
        <div class="modal__footer">
          <button id="action-result-ok" class="button button--primary" type="button">OK</button>
        </div>
      </div>
    </div>
    <!-- Archive Password Prompt (used when loading or viewing archive files) -->
    <div id="archive-password-modal" class="modal hidden">
      <div class="modal__card modal__card--small">
        <div class="modal__header">
          <h2>Archive Password</h2>
          <button id="archive-password-close" class="icon-button">‚úï</button>
        </div>
        <form id="archive-password-form" class="modal__body modal__body--single">
          <div class="field">
            <label>Archive password</label>
            <input id="archive-prompt-password" type="password" required />
          </div>
        </form>
        <div class="modal__footer">
          <div class="modal__actions">
            <button id="archive-password-cancel" class="button button--ghost" type="button">Cancel</button>
            <button id="archive-password-submit" class="button button--primary" type="submit" form="archive-password-form">Continue</button>
          </div>
        </div>
      </div>
    </div>
    <div id="auth-modal" class="modal hidden">
      <div class="modal__card modal__card--small">
        <div class="modal__header">
          <h2 id="auth-title">Sign In</h2>
          <button id="auth-close" class="icon-button">‚úï</button>
        </div>
        <form id="auth-form" class="modal__body modal__body--single">
          <div class="field">
            <label>Program Password</label>
            <input id="auth-password" type="password" required />
          </div>
        </form>
        <div class="modal__footer">
          <button id="auth-submit" class="button button--primary" type="submit" form="auth-form">Continue</button>
        </div>
      </div>
    </div>
    <script src="/static/app.js"></script>
  </body>
</html>
